!function(t){t.jfLightBoxLoad=function(n,i){function s(t){t.preventDefault(),e()}function e(){function n(){t(".lb_window").delay(d.settings.pause).animate(d.settings.animationTo,d.settings.speed,d.settings.ease,o),t(".lb_loadanimation").animate({opacity:"0"},.8*d.settings.speed,function(){t(this).remove()})}r=!0,d.settings.onStart.apply(d,d.settings.onStartArgs),l.prepend('<div class="lb_lightbox"></div>'),$lb=t(".lb_lightbox"),$lb.append('<div class="lb_shade"></div><div class="lb_loadanimation">loading</div>'),$lb.append(d.settings.iframe?'<div class="lb_window"><iframe frameborder="0" src ='+d.settings.hash+' width="100%" height:"100%" class="lb_content"></iframe><div class="lb_closeBtn">close</div></div>':'<div class="lb_window"><div class="lb_content"></div><div class="lb_closeBtn">close</div></div>'),$lbWin=t(".lb_window"),$lbWin.css(d.settings.animationFrom),d.settings.iframe?t(".lb_content").load(n):t(".lb_content").load(d.settings.hash,n),$lbshd=t(".lb_shade"),$lbshd.css({opacity:"0"}),$lbshd.animate({opacity:"1"},d.settings.speed),t(".lb_closeBtn, .lb_shade").bind("click",function(){d.settings.onClose.apply(d,d.settings.onCloseArgs),$lb.animate({opacity:"0"},d.settings.speed,"",a),t(".lb_window").animate(d.settings.animationFrom,d.settings.speed,d.settings.ease)})}function o(){d.settings.pathToScript&&t.getScript(d.settings.pathToScript,function(){}),d.settings.onComplete.apply(d,d.settings.onCompleteArgs)}function a(){r=!1,t(".lb_content").unload(),t(".lb_closeBtn, .lb_shade").unbind("click"),$lb.remove()}var l,d=this,c=t(n),n=n,g=c.data(),r=!1,b={loadElement:"body",hash:c.attr("href"),mouseEvent:"click",iframe:!1,animationFrom:{},animationTo:{},pause:100,speed:500,ease:"swing",pathToScript:null,useTransit:!1,onStart:function(){},onStartArgs:[],onComplete:function(){},onCompleteArgs:[],onClose:function(){},onCloseArgs:[]};d.settings={},d.init=function(){d.settings=t.extend({},b,i,g),l=t(d.settings.loadElement),d.settings.useTransit&&(t.fn.animate=t.fn.transition),"none"!=d.settings.event&&c.bind(d.settings.mouseEvent,s)},d.launch=function(){e()},d.destroy=function(){r&&a(),c.unbind(d.settings.mouseEvent,s),c.removeData("jfLightBoxLoad",d),d=null},d.init()},t.fn.jfLightBoxLoad=function(n){return this.each(function(){if(void 0==t(this).data("jfLightBoxLoad")){var i=new t.jfLightBoxLoad(this,n);t(this).data("jfLightBoxLoad",i)}})}}(jQuery);