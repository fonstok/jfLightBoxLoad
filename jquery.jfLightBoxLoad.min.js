!function(t){t.jfLightBoxLoad=function(n,i){function s(t){t.preventDefault(),e()}function e(){function n(){$lbWin.delay(l.settings.pause).animate(l.settings.animationTo,l.settings.speed,l.settings.ease,o),t(".lb_loadAnimation").animate({opacity:"0"}),t(".lb_loadAnimation").animate({opacity:"0"},.8*l.settings.speed,function(){t(this).remove()})}g=!0,l.settings.onStart.apply(l,l.settings.onStartArgs);var i=new Array;i.push('<div class="lb_lightbox">'),i.push('<div class="lb_shade"></div>'),i.push('<div class="lb_loadAnimation">loading</div>'),i.push(l.settings.iframe?'<div class="lb_window"><iframe frameborder="0" src ='+l.settings.hash+' width="100%" height:"100%" class="lb_content"></iframe><div class="lb_closeBtn">close</div></div>':'<div class="lb_window"><div class="lb_content"></div><div class="lb_closeBtn">close</div></div>'),i.push("</div>");var s="";t(i).each(function(t,n){s+=n}),a.prepend(s),$lb=t(".lb_lightbox"),$lbWin=t(".lb_window"),l.settings.iframe?t(".lb_content").load(n):t(".lb_content").load(l.settings.hash,n),$lbshd=t(".lb_shade"),$lbshd.css({opacity:"0"}),$lbshd.animate({opacity:"1"},l.settings.speed),$lbWin.css(l.settings.animationFrom)}function o(){t(".lb_closeBtn, .lb_shade").bind("click",l.close),l.settings.pathToScript&&t.getScript(l.settings.pathToScript,function(){}),l.settings.onComplete.apply(l,l.settings.onCompleteArgs)}var a,l=this,c=t(n),n=n,d=c.data(),g=!1,r={loadElement:"body",hash:c.attr("href"),mouseEvent:"click",iframe:!1,animationFrom:{opacity:"0"},animationTo:{opacity:"1"},pause:200,speed:500,ease:"swing",pathToScript:null,useTransit:!1,onStart:function(){},onStartArgs:[],onComplete:function(){},onCompleteArgs:[],onClose:function(){},onCloseArgs:[]};l.settings={},l.init=function(){l.settings=t.extend({},r,i,d),a=t(l.settings.loadElement),l.settings.useTransit&&(t.fn.animate=t.fn.transition),"none"!=l.settings.event&&c.bind(l.settings.mouseEvent,s)},l.close=function(){$lbWin.animate(l.settings.animationFrom,l.settings.speed,l.settings.ease),$lb.animate({opacity:"0"},l.settings.speed,"",function(){t(".lb_content").unload(),t(".lb_closeBtn, .lb_shade").unbind("click"),$lb.remove(),l.settings.onClose.apply(l,l.settings.onCloseArgs),g=!1})},l.launch=function(){e()},l.destroy=function(){g&&l.close(),c.unbind(l.settings.mouseEvent,s),c.removeData("jfLightBoxLoad",l),l=null},l.init()},t.fn.jfLightBoxLoad=function(n){return this.each(function(){if(void 0==t(this).data("jfLightBoxLoad")){var i=new t.jfLightBoxLoad(this,n);t(this).data("jfLightBoxLoad",i)}})}}(jQuery);