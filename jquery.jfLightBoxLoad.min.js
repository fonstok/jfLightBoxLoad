!function(t){t.jfLightBoxLoad=function(n,i){function s(t){t.preventDefault(),e()}function e(){function n(){$lbWin.delay(c.settings.pause).animate(c.settings.animationTo,c.settings.speed,c.settings.ease,o),t(".lb_loadAnimation").animate({opacity:"0"}),t(".lb_loadAnimation").animate({opacity:"0"},.8*c.settings.speed,function(){t(this).remove()})}r=!0,c.settings.onStart.apply(c,c.settings.onStartArgs);var i=new Array;i.push('<div class="lb_lightbox">'),i.push('<div class="lb_shade"></div>'),i.push('<div class="lb_loadAnimation">loading</div>'),i.push(c.settings.iframe?'<div class="lb_window"><iframe frameborder="0" src ='+c.settings.hash+' width="100%" height:"100%" class="lb_content"></iframe><div class="lb_closeBtn">close</div></div>':'<div class="lb_window"><div class="lb_content"></div><div class="lb_closeBtn">close</div></div>'),i.push("</div>");var s="";t(i).each(function(t,n){s+=n}),l.append(s),$lb=t(".lb_lightbox"),$lbWin=t(".lb_window"),c.settings.iframe?t(".lb_content").load(n):t(".lb_content").load(c.settings.hash,n),$lbshd=t(".lb_shade"),$lbshd.css({opacity:"0"}),$lbshd.animate({opacity:"1"},c.settings.speed),$lbWin.css(c.settings.animationFrom),t(".lb_closeBtn, .lb_shade").bind("click",function(){c.settings.onClose.apply(c,c.settings.onCloseArgs),$lb.animate({opacity:"0"},c.settings.speed,"",a),$lbWin.animate(c.settings.animationFrom,c.settings.speed,c.settings.ease)})}function o(){c.settings.pathToScript&&t.getScript(c.settings.pathToScript,function(){}),c.settings.onComplete.apply(c,c.settings.onCompleteArgs)}function a(){r=!1,t(".lb_content").unload(),t(".lb_closeBtn, .lb_shade").unbind("click"),$lb.remove()}var l,c=this,d=t(n),n=n,g=d.data(),r=!1,h={loadElement:"body",hash:d.attr("href"),mouseEvent:"click",iframe:!1,animationFrom:{opacity:"0"},animationTo:{opacity:"1"},pause:200,speed:500,ease:"swing",pathToScript:null,useTransit:!1,onStart:function(){},onStartArgs:[],onComplete:function(){},onCompleteArgs:[],onClose:function(){},onCloseArgs:[]};c.settings={},c.init=function(){c.settings=t.extend({},h,i,g),l=t(c.settings.loadElement),c.settings.useTransit&&(t.fn.animate=t.fn.transition),"none"!=c.settings.event&&d.bind(c.settings.mouseEvent,s)},c.launch=function(){e()},c.destroy=function(){r&&a(),d.unbind(c.settings.mouseEvent,s),d.removeData("jfLightBoxLoad",c),c=null},c.init()},t.fn.jfLightBoxLoad=function(n){return this.each(function(){if(void 0==t(this).data("jfLightBoxLoad")){var i=new t.jfLightBoxLoad(this,n);t(this).data("jfLightBoxLoad",i)}})}}(jQuery);