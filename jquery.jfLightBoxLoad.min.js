!function(t){t.jfLightBoxLoad=function(n,s){function i(t){t.preventDefault(),a.launch()}function e(){t(".lb_closeBtn, .lb_shade").bind("click",a.close),a.settings.pathToScript&&t.getScript(a.settings.pathToScript),a.settings.onComplete.apply(a,a.settings.onCompleteArgs)}var o,a=this,l=t(n),n=n,c=l.data(),d=!1,g={loadElement:"body",hash:l.attr("href"),mouseEvent:"click",iframe:!1,animationFrom:{opacity:"0"},animationTo:{opacity:"1"},pause:0,speed:500,ease:"swing",pathToScript:null,useTransit:!1,onStart:function(){},onStartArgs:[],onComplete:function(){},onCompleteArgs:[],onClosed:function(){},onClosedArgs:[]};a.settings={},a.init=function(){a.settings=t.extend({},g,s,c),o=t(a.settings.loadElement),a.settings.useTransit&&(t.fn.animate=t.fn.transition),"none"!=a.settings.event&&l.bind(a.settings.mouseEvent,i)},a.launch=function(){function n(){$lbWin.delay(a.settings.pause).animate(a.settings.animationTo,a.settings.speed,a.settings.ease,e),t(".lb_loadAnimation").animate({opacity:"0"},.8*a.settings.speed,function(){t(this).remove()})}d=!0,a.settings.onStart.apply(a,a.settings.onStartArgs);var s=new Array;s.push('<div class="lb_lightbox">'),s.push('<div class="lb_shade"></div>'),s.push('<div class="lb_loadAnimation">loading</div>'),s.push('<div class="lb_window">'),s.push(a.settings.iframe?'<iframe class="lb_content" frameborder="0" src ='+a.settings.hash+' width="100%" height:"100%"></iframe>':'<div class="lb_content"></div>'),s.push('<div class="lb_closeBtn">close</div>'),s.push("</div></div>");var i="";t(s).each(function(t,n){i+=n}),o.prepend(i),$lb=t(".lb_lightbox"),$lbWin=t(".lb_window"),a.settings.iframe?t(".lb_content").load(n):t(".lb_content").load(a.settings.hash,n),t(".lb_shade").css({opacity:"0"}).animate({opacity:"1"},a.settings.speed),$lbWin.css(a.settings.animationFrom)},a.close=function(){$lbWin.animate(a.settings.animationFrom,a.settings.speed,a.settings.ease),$lb.animate({opacity:"0"},a.settings.speed,"",function(){t(".lb_content").unload(),t(".lb_closeBtn, .lb_shade").unbind("click"),$lb.remove(),a.settings.onClosed.apply(a,a.settings.onClosedArgs),d=!1})},a.destroy=function(){d&&a.close(),l.unbind(a.settings.mouseEvent,i),l.removeData("jfLightBoxLoad",a),a=null},a.init()},t.fn.jfLightBoxLoad=function(n){return this.each(function(){if(void 0==t(this).data("jfLightBoxLoad")){var s=new t.jfLightBoxLoad(this,n);t(this).data("jfLightBoxLoad",s)}})}}(jQuery);