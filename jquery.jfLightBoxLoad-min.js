!function($){$.jfLightBoxLoad=function(t,n){function s(t){t.preventDefault(),e.launch()}function i(){$(".lb_closeBtn, .lb_shade").bind("click",e.close),e.settings.pathToScript&&$.getScript(e.settings.pathToScript),e.settings.onComplete.apply(e,e.settings.onCompleteArgs)}var e=this,o=$(t),a,l,c,d=o.data(),g=!1,r={loadElement:"body",hash:o.attr("href"),mouseEvent:"click",iframe:!1,animationFrom:{opacity:"0"},animationTo:{opacity:"1"},pause:0,speed:500,ease:"swing",pathToScript:null,useTransit:!1,onStart:function(){},onStartArgs:[],onComplete:function(){},onCompleteArgs:[],onClosed:function(){},onClosedArgs:[]};e.settings={},e.init=function(){e.settings=$.extend({},r,n,d),a=$(e.settings.loadElement),e.settings.useTransit&&($.fn.animate=$.fn.transition),"none"!==e.settings.event&&o.bind(e.settings.mouseEvent,s)},e.close=function(){c.animate(e.settings.animationFrom,e.settings.speed,e.settings.ease),l.animate({opacity:"0"},e.settings.speed,"",function(){$(".lb_content").unload(),$(".lb_closeBtn, .lb_shade").unbind("click"),l.remove(),e.settings.onClosed.apply(e,e.settings.onClosedArgs),g=!1})},e.destroy=function(){g&&e.close(),o.unbind(e.settings.mouseEvent,s),o.removeData("jfLightBoxLoad",e),e=null},e.launch=function(){function t(){c.delay(e.settings.pause).animate(e.settings.animationTo,e.settings.speed,e.settings.ease,i),$(".lb_loadAnimation").animate({opacity:"0"},.8*e.settings.speed,function(){$(this).remove()})}g=!0,e.settings.onStart.apply(e,e.settings.onStartArgs);var n=[];n.push('<div class="lb_lightbox">'),n.push('<div class="lb_shade"></div>'),n.push('<div class="lb_loadAnimation">loading</div>'),n.push('<div class="lb_window">'),e.settings.iframe?n.push('<iframe class="lb_content" frameborder="0" src ='+e.settings.hash+' width="100%" height:"100%"></iframe>'):n.push('<div class="lb_content"></div>'),n.push('<div class="lb_closeBtn">close</div>'),n.push("</div></div>");var s="";$(n).each(function(t,n){s+=n}),a.prepend(s),l=$(".lb_lightbox"),c=$(".lb_window"),e.settings.iframe?$(".lb_content").load(t):$(".lb_content").load(e.settings.hash,t),$(".lb_shade").css({opacity:"0"}).animate({opacity:"1"},e.settings.speed),c.css(e.settings.animationFrom)},e.init()},$.fn.jfLightBoxLoad=function(t){return this.each(function(){if(void 0===$(this).data("jfLightBoxLoad")){var n=new $.jfLightBoxLoad(this,t);$(this).data("jfLightBoxLoad",n)}})}}(jQuery);